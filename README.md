# Как использовать

- С помощью скрипта data-generator.php создаём тестовый набор (скрипт на 30 строк, все крутилки на виду)
- Открыть файл `main.go`, при желании подкрутить значение констант
  (ThreadsLimit можно установить равным количеству ядер, RecordSetLimit - количество записей в файле результата,
  GroupLimit - максимальный размер группы товаров с одинаковым идентификатором)
- Запустить программу обработки файлов : `go run main.go`
- Результат обработки будет записан в файл `result.csv`
- Enjoy!

Просьба о багах сообщать на ulfnew@gmail.com / 89022726535

# Тестовое задание для Senior PHP Backend разработчика

## Исходные данные:

Список из нескольких CSV файлов. Количество файлов может быть достаточно велико, порядка сотен или тысяч. В каждом файле
может быть произвольное количество записей.

Файлы содержат по 2 столбца: ID товара (integer) и Price (float).

Одни и те же ID товаров могут встречаться несколько раз как в разных CSV, так и в одном и том же CSV. Другими словами ID
товара не уникально.

## Задание:

Необходимо написать скрипт на PHP (или даже go, будет плюсом)  
позволяющий по заданным входным CSV файлам получать выборку 1000 самых дешевых товаров из всех, но не более 20-ти
товаров с одним и тем же ID.

Для быстродействия необходимо обрабатывать файлы параллельно.

## Результат работы утилиты:

Выходной CSV файл, удовлетворяющий следующий критериям:

- не более 1000 товаров отсортированных по Price из всех файлов;
- не более 20-ти товаров с одинаковым ID.​

## Пример:

Допустим есть всего один csv файл и требуется извлечь не более 5 самых дешевых товаров так, чтобы было максимум 2 товара
с одинаковым ID:

```csv
ID,Price
1,0.5
2,4.0
3,0.5
4,0.7
2,2.5
1,0.1
3,2.3
3,1.2
2,0.1
4,0.5
1,0.1
```

Тогда на выходе мы должны получить, например, такой файл:

```csv
ID,Price
1,0.1
1,0.1
2,0.1
3,0.5
4,0.5
```

### Примечание:

- Порядок товаров в исходных файлах может быть любым.
- Порядок товаров в выходном файле не важен.
- Код следует написать на PHP версии 7.4.* или выше.
- Можно использовать любые библиотеки для реализации параллельных вычислений.

## Как будет оцениваться тестовое задание:

### Корректность решения.

Программа должна делать ровно то, что требуется в задании.

### Оптимальность.

Чем меньше программа потребляет памяти и чем быстрее она работает, тем лучше.

### Чистота кода.

Код будет проверяться на соответствие принципам SOLID и принципам написания “чистого” кода (т.е. насколько код читабелен
и насколько легко в него можно вносить изменения).

Приемлемое время выполнения тестового задания: не более 8 часов.
